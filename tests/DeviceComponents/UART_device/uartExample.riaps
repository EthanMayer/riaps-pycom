// Uart example model file

app UartExample {

    message CltReq;
    message SrvRep;

    device UartDeviceComponent(uart_port_name='UART1',baud_rate = 9600) {
      inside trigger;

      timer clock 100;
      rep uartRepPort : (CltReq, SrvRep);
    }


    component TestUartComponentA() {

      req uartReqPort : (CltReq, SrvRep);
      timer activity 5000;
    }

    component TestUartComponentB() {

      req uartReqPort : (CltReq, SrvRep);
      timer activity 5000;
    }

    actor TestUartActorA() {
       local CltReq, SrvRep;	// Local message types
       {
       	  uartDevice : UartDeviceComponent(uart_port_name = 'UART2', baud_rate = 9600);
          uartTester : TestUartComponentA();
       }
    }

    actor TestUartActorB() {
       local CltReq, SrvRep;	// Local message types
       {
          uartDevice : UartDeviceComponent(uart_port_name = 'UART2', baud_rate = 9600);
          uartTester : TestUartComponentB();
       }
    }
}
